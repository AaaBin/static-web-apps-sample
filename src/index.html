<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous" />
  <title>Static-Web-Apps-Sample</title>
</head>

<body>
  <!-- form with two input, one for name, one for password -->
  <form class="d-flex flex-column align-items-center justify-content-center" style="height: 50vh">
    <label for="name">Name</label>
    <input type="text" id="name" />
    <label for="password">Password</label>
    <input type="password" id="password" />
    <button type="submit" class="m-2 btn btn-primary" onclick="sampleCall()">
      Submit
    </button>
  </form>

  <!-- result -->
  <div class="d-flex flex-column align-items-center justify-content-center">
    <h1 id="result"></h1>
  </div>

  <!-- import bootstrap -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
    crossorigin="anonymous"></script>
  <script>
    // sample call to the api
    const sampleCall = async () => {
      console.log("sample call");
      // cancel the default behavior of the form
      event.preventDefault();

      const name = document.getElementById("name").value;
      const password = document.getElementById("password").value;
      const result = document.getElementById("result");
      const response = await fetch("api/sampleFunction", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({ name, password }),
      });

      const data = await response.json();
      console.log(data);

      // display the result
      result.innerHTML = data.response;
    };
  </script>
</body>

</html>